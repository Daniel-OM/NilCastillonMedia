<!DOCTYPE html>
<html lang="en" dir="ltr">
<head id="top">
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>{% block title %}Nil Castillon Media{% endblock %}</title>
	
	<link rel="icon" type="image/x-icon" href="{{ url_for('static',filename='assets/img/icon/logo.png') }}">

	<!-- Global stylesheets -->
	<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">

	<link href="{{ url_for('static',filename='css/vendors/bootstrap-5.3.3/bootstrap.min.css') }}" rel="stylesheet" type="text/css">
	<link href="{{ url_for('static',filename='css/base.css') }}" rel="stylesheet" type="text/css">
	<link href="{{ url_for('static',filename='css/custom.css') }}" rel="stylesheet" type="text/css">
	<!-- /global stylesheets -->
	
	<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
	<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

	<!-- Theme JS files -->
	<script src="{{ url_for('static',filename='js/vendors/jquery-3.7.1/jquery.min.js') }}"></script>
	<script src="{{ url_for('static',filename='js/vendors/bootstrap-5.3.3/bootstrap.bundle.min.js') }}"></script>
	<script src="{{ url_for('static',filename='js/utils.js') }}"></script>
	<script src="{{ url_for('static',filename='js/custom.js') }}"></script>
	<script id="pages_script" src="{{ url_for('static',filename='js/pages/pages.js') }}" type="text/javascript"></script>
	<!-- /theme JS files -->
	<style>
		.material-symbols-outlined {
		  font-variation-settings:
		  'FILL' 0,
		  'wght' 400,
		  'GRAD' 0,
		  'opsz' 24
		}
    </style>

    {% block styles %}{% endblock %}

</head>

<body>
	<div class="container">
		<nav class="navbar navbar-expand-lg flex-column rounded vertical-height-100" id="mainNav">
			<div class="navbar-brand-container w-100 d-flex">
				<button class="navbar-toggler custom-toggler collapsed me-5" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" 
					style="align-self: center;" id="navbarToggler">
					<span class="toggler-icon top-bar"></span>
					<span class="toggler-icon middle-bar"></span>
					<span class="toggler-icon bottom-bar"></span>
				</button>
				<div class="text-center mx-auto ml-auto" style="display: flex; flex-direction: column;">
					<a class="navbar-brand mx-md-auto ml-auto" href="#top">
						TRBranch <!-- Nil Castillón Media -->
					</a>
					<div id="typed_text">
						<span class="typed-text"></span>
						<span class="typing-cursor">&nbsp;</span> 
					</div>
				</div>
			</div>
	  
			<div class="justify-content-md-center navbar-bottom" id="navbarContent">
				<ul class="navbar-nav text-center">
					<li class="nav-item">
						<a class="nav-link" href="#projects">Gallery</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#services">Services</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#about">About me</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#contact">Contact</a>
					</li>
				</ul>
			</div>
		</nav>


		<!-- main -->
		<div class="main active">

			<div id="content">
                {% block content %}{% endblock %}
				<section id="projects" class="section-container gallery-container">
					<h1 class="padded" style="margin-top: 1rem; margin-bottom: 3rem;">My Work.</h1>
					<div id="projectsCarousel" class="gallery carousel slide" data-bs-ride="carousel">
						<div class="carousel-inner">
							{% for project in carousel %}
								<div class="carousel-item {{ 'active' if project == carousel[0] else '' }}">
									<{{ project['thumbnail']['type'] | safe }} src="{{ project['thumbnail']['src'] | safe }}" class="d-block w-100" alt="{{ project['description'] | safe }}" data-bs-interval="1000"/>
									<div class="d-none">
										{% for media in project['media'] %}
											<{{ media['type'] | safe}} src="{{ media['src'] | safe}}"/>
										{% endfor %}
									</div>
									<!-- <div class="carousel-caption d-none d-md-block">
										<h5>First slide label</h5>
										<p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>
									</div> -->
								</div>
							{% endfor %}
						</div>
						<button class="carousel-control-prev" type="button" data-bs-target="#projectsCarousel" data-bs-slide="prev">
							<span class="carousel-control-prev-icon" aria-hidden="true"></span>
							<span class="visually-hidden">Previous</span>
						</button>
						<button class="carousel-control-next" type="button" data-bs-target="#projectsCarousel" data-bs-slide="next">
							<span class="carousel-control-next-icon" aria-hidden="true"></span>
							<span class="visually-hidden">Next</span>
						</button>
					</div>
					<!-- <div class="gallery">
						<div class="gallery-item">
							<img src="http://unsplash.it/1200/800?image=940" alt="Project 1">
						</div>
						<div class="gallery-item">
							<video src="https://www.youtube.com/watch?v=Ir098VWCv8Q" controls></video>
						</div>
						<div class="gallery-item">
							<img src="http://unsplash.it/1340/820?image=401" alt="Project 3">
						</div>
					</div> -->
				</section>
				<section id="about" class="padded">
					<h1 id="about_title" class="text-end" style="margin-top: 1rem; margin-bottom: 3rem;">{{ about['title'] | safe }}</h1>
					<h2 id="about_subtitle" class="primary text-end" style="margin-bottom: 2rem;">{{ about['subtitle'] | safe }}</h2>
					<p id="about_description" class="text-end" style="width: 90%;margin-left: auto;">{{ about['description'] | safe }}</p>
				</section>
				<section id="services" class="section-container padded">
					<div class="row text-center" style="padding: 0; gap: 0;">
						<h1>{{ services['title'] | safe }}</h1>
						<p style="font-size: 20px;">{{ services['description'] | safe }}</p>
						<div class="row text-center" style="margin-top: 2rem;">
							{% for s in services['services'] %}
							<div class="col" style="padding: 1rem 2rem; gap: 0;">
								<h2>{{ s['title'] | safe }}</h2>
								<p>{{ s['description'] | safe }}</p>
							</div>
							{% endfor %}
						</div>
					</div>
				</section>
				<section id="contact" class="padded">
					<h1>{{ contact['title'] | safe }}</h1>
					<h3 class="primary">{{ contact['subtitle'] | safe }}</h3>
					<form action="#" class="subscribe">
						<input type="email" placeholder="{{ contact['action_message'] | safe }}">
						<button class="btn-four">{{ contact['action'] | safe }}</button>
					</form>
				</section>
			</div>

		</div>

		<footer class="my-4">
			<ul class="nav justify-content-center mb-3">
			  <li class="nav-item"><a href="https://www.youtube.com" class="nav-link px-2 text-body-secondary">
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-youtube" viewBox="0 0 16 16">
					<path d="M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.01 2.01 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.01 2.01 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31 31 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.01 2.01 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A100 100 0 0 1 7.858 2zM6.4 5.209v4.818l4.157-2.408z"/>
				</svg>
			  </a></li>
			  
			  <li class="nav-item"><a href="https://www.tiktok.com" class="nav-link px-2 text-body-secondary">
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-tiktok" viewBox="0 0 16 16">
					<path d="M9 0h1.98c.144.715.54 1.617 1.235 2.512C12.895 3.389 13.797 4 15 4v2c-1.753 0-3.07-.814-4-1.829V11a5 5 0 1 1-5-5v2a3 3 0 1 0 3 3z"/>
				</svg>
			  </a></li>
			  
			  <li class="nav-item"><a href="https://www.vimeo.com" class="nav-link px-2 text-body-secondary">
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-vimeo" viewBox="0 0 16 16">
					<path d="M15.992 4.204q-.106 2.334-3.262 6.393-3.263 4.243-5.522 4.243-1.4 0-2.367-2.583L3.55 7.523Q2.83 4.939 2.007 4.94q-.178.001-1.254.754L0 4.724a210 210 0 0 0 2.334-2.081q1.581-1.364 2.373-1.437 1.865-.185 2.298 2.553.466 2.952.646 3.666.54 2.447 1.186 2.445.5 0 1.508-1.587 1.006-1.587 1.077-2.415.144-1.37-1.077-1.37a3 3 0 0 0-1.185.261q1.183-3.86 4.508-3.756 2.466.075 2.324 3.2z"/>
				</svg>
			  </a></li>
			  
			  <li class="nav-item"><a href="https://www.instagram.com" class="nav-link px-2 text-body-secondary">
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-instagram" viewBox="0 0 16 16">
					<path d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.9 3.9 0 0 0-1.417.923A3.9 3.9 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.9 3.9 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.9 3.9 0 0 0-.923-1.417A3.9 3.9 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599s.453.546.598.92c.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.5 2.5 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.5 2.5 0 0 1-.92-.598 2.5 2.5 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233s.008-2.388.046-3.231c.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92s.546-.453.92-.598c.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92m-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217m0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334"/>
				  </svg>
			  </a></li>
			</ul>
			<ul class="nav justify-content-center mb-3">
			  <li class="nav-item"><a href="#top" class="nav-link px-2 text-body-secondary">Home</a></li>
			  <li class="nav-item"><a href="#projects" class="nav-link px-2 text-body-secondary">Gallery</a></li>
			  <li class="nav-item"><a href="#services" class="nav-link px-2 text-body-secondary">Services</a></li>
			  <li class="nav-item"><a href="#about" class="nav-link px-2 text-body-secondary">About</a></li>
			  <li class="nav-item"><a href="#contact" class="nav-link px-2 text-body-secondary">Contact</a></li>
			</ul>
			<p id="copyright" class="text-center text-body-secondary">© 2024 Nil Castillon Media</p>
		</footer>


	</div>

	<script>
		// Revisamos cuando se clique un enlace
		$(document).ready(function(){
			// Suavizar la navegacion para los enlaces en navbar + footer
			document.querySelectorAll(".navigation a, footer a[href='#top']").forEach((item) => {

				item.addEventListener('click', function(event) {
					// Nos aseguramos de que this.hash tenga valor antes de sobreescribirlo
					if (this.hash !== "") {
						// Prevenimos el click predeterminado
						event.preventDefault();

						// Almacenamos el hashtag de la web
						var hash = this.hash;

						// Usamos el metodo animate() de jQuery para suavizar el scroll
						// El numero opcional (900) especifica los milisegundos que tarda en hacer scroll
						$('html, body').animate({
							scrollTop: document.querySelector(hash).getBoundingClientRect().top
						}, 900, function(){
							// Añadimos el hashtag a la URL cuando llegamos a la pagina
							window.location.hash = hash;
						});
					}
				});
			});
			
			$(window).scroll(function() {
				$(".slideanim").each(function(){
					var pos = $(this).offset().top;

					var winTop = $(window).scrollTop();
						if (pos < winTop + 600) {
							$(this).addClass("slide");
						}
				});
			});

		})


		

		document.addEventListener("DOMContentLoaded", function () { // On DOM Load initiate the effect

			let textArray = ['Cinematographer', 'Producer'];
			if ((navigator.language || navigator.userLanguage).includes('es')) {
				textArray = ['Cinematógrafo', 'Productor'];
			}
			
			const typingDelay = 200;
			const erasingDelay = 10;
			const newTextDelay = 100; // Delay between current and next text
			let textArrayIndex = 0;
			let charIndex = 0;

			function type(delay=200) {
				let typedTextSpan = document.querySelector(".typed-text");
				let cursorSpan = document.querySelector(".typing-cursor");
				if (charIndex < textArray[textArrayIndex].length) {
					if (!cursorSpan.classList.contains("typing")) cursorSpan.classList.add("typing");
					typedTextSpan.textContent += textArray[textArrayIndex].charAt(charIndex);
					charIndex++;
					setTimeout(type, typingDelay);
				} else {
					cursorSpan.classList.remove("typing");
					setTimeout(erase, newTextDelay);
				}
			}

			function erase(delay=10) {
				let typedTextSpan = document.querySelector(".typed-text");
				let cursorSpan = document.querySelector(".typing-cursor");
				if (charIndex > 0) {
					// add class 'typing' if there's none
					if (!cursorSpan.classList.contains("typing")) {
						cursorSpan.classList.add("typing");
					}
					typedTextSpan.textContent = textArray[textArrayIndex].substring(0, 0);
					charIndex--;
					setTimeout(erase, erasingDelay);
				} else {
					cursorSpan.classList.remove("typing");
					textArrayIndex++;
					if (textArrayIndex >= textArray.length) textArrayIndex = 0;
					setTimeout(type, typingDelay);
				}
			}

			if (textArray.length) setTimeout(type, newTextDelay + 250);
		});
	</script>

    {% block scripts %}{% endblock %}

</body>
</html>